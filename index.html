<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StarStream - Cosmic Media Hub</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  
  <style>
    body { font-family: 'Poppins', sans-serif; scroll-behavior: smooth; background-color: #0f172a; color: #f8fafc; min-height: 100vh; }
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-thumb { background: linear-gradient(to bottom, #6366f1, #8b5cf6); border-radius: 4px; }

    .starman-glow { color: #9ca3af; animation: twinkle 4s infinite ease-in-out; }
    @keyframes twinkle { 0%,100%{opacity:0.7;text-shadow:0 0 2px #818cf8;}50%{opacity:1;text-shadow:0 0 8px #a78bfa;} }
    .float-animation { animation: float 6s ease-in-out infinite; }
    @keyframes float {0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
  </style>
</head>

<body>
  <!-- Navbar -->
  <nav class="bg-gray-900/80 px-6 py-4 flex justify-between items-center shadow-lg">
    <div class="text-indigo-400 font-bold text-xl">StarStream</div>
    <div>
      <button id="logoutBtn" class="text-gray-300 hover:text-white text-sm sm:text-base">Logout</button>
    </div>
  </nav>

  <!-- Hero -->
  <section class="relative flex items-center justify-center min-h-[70vh] sm:min-h-[85vh] overflow-hidden text-center">
    <div class="relative px-4 sm:px-6 max-w-3xl z-10">
      <h1 id="welcomeMsg" class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-4 sm:mb-6 text-white break-words">
        Welcome, <span class="text-indigo-400"></span>
      </h1>
      <p class="text-base sm:text-lg md:text-xl text-gray-300 max-w-xl mx-auto mb-6 sm:mb-10">
        Stream, discover, and journey through the universe of movies and shows.
      </p>
    </div>
  </section>

  <!-- Recently Added -->
  <main class="container mx-auto px-4 sm:px-6 flex-1">
    <section id="recent" class="mb-16">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl sm:text-3xl font-bold text-indigo-400 flex items-center">
          <i data-feather="star" class="mr-2"></i> Recently Added
        </h2>
      </div>
      <div id="recent-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4 md:gap-6"></div>
    </section>
  </main>

  <div class="text-center text-xs text-gray-500 py-4 border-t border-gray-800">
    Made with ❤️ and stardust — a quiet salute to <span class="starman-glow">Starman</span>.
  </div>

  <script>
    feather.replace();

    // Redirect to profile page if no name saved
    const profileName = localStorage.getItem('starstreamActiveProfile');
    if (!profileName || profileName === 'null') {
      window.location.href = 'profile.html';
    } else {
      document.querySelector('#welcomeMsg span').textContent = profileName;
    }

    // Logout
    document.getElementById('logoutBtn').addEventListener('click', () => {
      localStorage.removeItem('starstreamActiveProfile');
      window.location.href = 'profile.html';
    });

    // MediaCard custom element
    class MediaCard extends HTMLElement {
      constructor() {
        super();
        const shadow = this.attachShadow({ mode: 'open' });
        const container = document.createElement('div');
        container.style.cursor = 'pointer';
        container.style.borderRadius = '8px';
        container.style.overflow = 'hidden';
        container.style.transition = 'transform 0.2s';
        container.style.background = '#1f2937';
        container.style.boxShadow = '0 2px 10px rgba(0,0,0,0.5)';
        container.addEventListener('mouseenter', () => container.style.transform = 'scale(1.05)');
        container.addEventListener('mouseleave', () => container.style.transform = 'scale(1)');

        const img = document.createElement('img');
        img.src = this.getAttribute('image');
        img.alt = this.getAttribute('title');
        img.style.width = '100%';
        img.style.display = 'block';

        const title = document.createElement('div');
        title.textContent = `${this.getAttribute('title')} (${this.getAttribute('year')})`;
        title.style.padding = '8px';
        title.style.fontWeight = '600';
        title.style.color = '#f3f4f6';
        title.style.textAlign = 'center';

        container.appendChild(img);
        container.appendChild(title);
        shadow.appendChild(container);
      }
    }
    customElements.define('custom-media-card', MediaCard);

    // Media data
    const mediaData = [
      { title: "Interstellar", type: "movie", year: "2014", image: "https://static.photos/space/320x240/1" },
      { title: "The Expanse", type: "tv", year: "2015", image: "https://static.photos/space/320x240/2" },
      { title: "Gravity", type: "movie", year: "2013", image: "https://static.photos/space/320x240/4" },
      { title: "Arrival", type: "movie", year: "2016", image: "https://static.photos/space/320x240/5" },
      { title: "2001: A Space Odyssey", type: "movie", year: "1968", image: "https://static.photos/space/320x240/6" }
    ];

    // Render media once DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
      const recentGrid = document.getElementById("recent-grid");
      mediaData.forEach(item => {
        const card = document.createElement('custom-media-card');
        card.setAttribute('title', item.title);
        card.setAttribute('type', item.type);
        card.setAttribute('year', item.year);
        card.setAttribute('image', item.image);
        recentGrid.appendChild(card);
      });
    });
  </script>
</body>
</html>
